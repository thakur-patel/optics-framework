<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A powerful, extensible no-code test automation framework designed for vision-powered, data-driven testing and production app synthetic monitoring."><meta name=author content="Dhruv Menon"><link href=https://mozarkai.github.io/optics-framework/architecture/event_system/ rel=canonical><link href=../execution/ rel=prev><link href=../error_handling/ rel=next><link rel=icon href=../../assets/mozark_new_logo.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.3"><title>Event System - Optics Framework</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style><link rel=stylesheet href=../../assets/_mkdocstrings.css><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#event-system-and-eventsdk class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Optics Framework" class="md-header__button md-logo" aria-label="Optics Framework" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27zM5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39S16.66.269 11 5.93c-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.55.56 1.37.74 2.12.46A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61m-7.07 7.07c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83s-2.05.78-2.83 0m-5.66 7.07-1.41-1.41zM6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22zM2 22h1.41l4.77-4.76-1.42-1.41L2 20.59zm0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Optics Framework </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Event System </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=purple aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/mozarkai/optics-framework title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> mozarkai/optics-framework </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../introduction/ class=md-tabs__link> Introduction </a> </li> <li class=md-tabs__item> <a href=../../quickstart/ class=md-tabs__link> Quick Start </a> </li> <li class=md-tabs__item> <a href=../../configuration/ class=md-tabs__link> Configuration </a> </li> <li class=md-tabs__item> <a href=../../user_workflow/ class=md-tabs__link> User Workflow </a> </li> <li class=md-tabs__item> <a href=../../usage/usage/ class=md-tabs__link> Usage </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Architecture </a> </li> <li class=md-tabs__item> <a href=../../api_reference/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../contribution/contributing_guidelines/ class=md-tabs__link> Contribution </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Optics Framework" class="md-nav__button md-logo" aria-label="Optics Framework" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27zM5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M21.61 2.39S16.66.269 11 5.93c-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.55.56 1.37.74 2.12.46A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61m-7.07 7.07c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83s-2.05.78-2.83 0m-5.66 7.07-1.41-1.41zM6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22zM2 22h1.41l4.77-4.76-1.42-1.41L2 20.59zm0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76z"/></svg> </a> Optics Framework </label> <div class=md-nav__source> <a href=https://github.com/mozarkai/optics-framework title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> mozarkai/optics-framework </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../quickstart/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../../configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../user_workflow/ class=md-nav__link> <span class=md-ellipsis> User Workflow </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Usage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../usage/usage/ class=md-nav__link> <span class=md-ellipsis> Usage Overview </span> </a> </li> <li class=md-nav__item> <a href=../../usage/CLI_usage/ class=md-nav__link> <span class=md-ellipsis> CLI Usage </span> </a> </li> <li class=md-nav__item> <a href=../../usage/keyword_usage/ class=md-nav__link> <span class=md-ellipsis> Keyword Usage </span> </a> </li> <li class=md-nav__item> <a href=../../usage/library_usage/ class=md-nav__link> <span class=md-ellipsis> Library Usage </span> </a> </li> <li class=md-nav__item> <a href=../../usage/robot_usage/ class=md-nav__link> <span class=md-ellipsis> Robot Framework Usage </span> </a> </li> <li class=md-nav__item> <a href=../../usage/REST_API_usage/ class=md-nav__link> <span class=md-ellipsis> REST API Usage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7 checked> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=true> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Architecture Overview </span> </a> </li> <li class=md-nav__item> <a href=../components/ class=md-nav__link> <span class=md-ellipsis> Components </span> </a> </li> <li class=md-nav__item> <a href=../engines/ class=md-nav__link> <span class=md-ellipsis> Engines </span> </a> </li> <li class=md-nav__item> <a href=../strategies/ class=md-nav__link> <span class=md-ellipsis> Strategies </span> </a> </li> <li class=md-nav__item> <a href=../execution/ class=md-nav__link> <span class=md-ellipsis> Execution </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Event System </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Event System </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#eventsdk-architecture class=md-nav__link> <span class=md-ellipsis> EventSDK Architecture </span> </a> </li> <li class=md-nav__item> <a href=#eventsdk-component class=md-nav__link> <span class=md-ellipsis> EventSDK Component </span> </a> <nav class=md-nav aria-label="EventSDK Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initialization class=md-nav__link> <span class=md-ellipsis> Initialization </span> </a> </li> <li class=md-nav__item> <a href=#key-responsibilities class=md-nav__link> <span class=md-ellipsis> Key Responsibilities </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-attributes-configuration class=md-nav__link> <span class=md-ellipsis> Event Attributes Configuration </span> </a> <nav class=md-nav aria-label="Event Attributes Configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuration-structure class=md-nav__link> <span class=md-ellipsis> Configuration Structure </span> </a> </li> <li class=md-nav__item> <a href=#configuration-fields class=md-nav__link> <span class=md-ellipsis> Configuration Fields </span> </a> </li> <li class=md-nav__item> <a href=#loading-event-attributes class=md-nav__link> <span class=md-ellipsis> Loading Event Attributes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-capture class=md-nav__link> <span class=md-ellipsis> Event Capture </span> </a> <nav class=md-nav aria-label="Event Capture"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-event-capture class=md-nav__link> <span class=md-ellipsis> Basic Event Capture </span> </a> </li> <li class=md-nav__item> <a href=#event-structure class=md-nav__link> <span class=md-ellipsis> Event Structure </span> </a> </li> <li class=md-nav__item> <a href=#automatic-attributes class=md-nav__link> <span class=md-ellipsis> Automatic Attributes </span> </a> </li> <li class=md-nav__item> <a href=#event-format class=md-nav__link> <span class=md-ellipsis> Event Format </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-submission-modes class=md-nav__link> <span class=md-ellipsis> Event Submission Modes </span> </a> <nav class=md-nav aria-label="Event Submission Modes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-real-time-submission class=md-nav__link> <span class=md-ellipsis> 1. Real-Time Submission </span> </a> </li> <li class=md-nav__item> <a href=#2-batch-submission class=md-nav__link> <span class=md-ellipsis> 2. Batch Submission </span> </a> </li> <li class=md-nav__item> <a href=#batch-submission-flow class=md-nav__link> <span class=md-ellipsis> Batch Submission Flow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#integration-with-drivers class=md-nav__link> <span class=md-ellipsis> Integration with Drivers </span> </a> <nav class=md-nav aria-label="Integration with Drivers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#track-action-method class=md-nav__link> <span class=md-ellipsis> Track Action Method </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#test-context-integration class=md-nav__link> <span class=md-ellipsis> Test Context Integration </span> </a> </li> <li class=md-nav__item> <a href=#event-submission-api class=md-nav__link> <span class=md-ellipsis> Event Submission API </span> </a> <nav class=md-nav aria-label="Event Submission API"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#api-endpoint class=md-nav__link> <span class=md-ellipsis> API Endpoint </span> </a> </li> <li class=md-nav__item> <a href=#request-format class=md-nav__link> <span class=md-ellipsis> Request Format </span> </a> </li> <li class=md-nav__item> <a href=#authentication class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=#response-handling class=md-nav__link> <span class=md-ellipsis> Response Handling </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#time-management class=md-nav__link> <span class=md-ellipsis> Time Management </span> </a> </li> <li class=md-nav__item> <a href=#event-printing class=md-nav__link> <span class=md-ellipsis> Event Printing </span> </a> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> <nav class=md-nav aria-label="Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-event-naming class=md-nav__link> <span class=md-ellipsis> 1. Event Naming </span> </a> </li> <li class=md-nav__item> <a href=#2-event-attributes class=md-nav__link> <span class=md-ellipsis> 2. Event Attributes </span> </a> </li> <li class=md-nav__item> <a href=#3-submission-mode-selection class=md-nav__link> <span class=md-ellipsis> 3. Submission Mode Selection </span> </a> </li> <li class=md-nav__item> <a href=#4-error-handling class=md-nav__link> <span class=md-ellipsis> 4. Error Handling </span> </a> </li> <li class=md-nav__item> <a href=#5-configuration-management class=md-nav__link> <span class=md-ellipsis> 5. Configuration Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#events-not-being-sent class=md-nav__link> <span class=md-ellipsis> Events Not Being Sent </span> </a> </li> <li class=md-nav__item> <a href=#missing-test-case-name class=md-nav__link> <span class=md-ellipsis> Missing Test Case Name </span> </a> </li> <li class=md-nav__item> <a href=#timestamp-issues class=md-nav__link> <span class=md-ellipsis> Timestamp Issues </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#extension-points class=md-nav__link> <span class=md-ellipsis> Extension Points </span> </a> <nav class=md-nav aria-label="Extension Points"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#custom-event-handlers class=md-nav__link> <span class=md-ellipsis> Custom Event Handlers </span> </a> </li> <li class=md-nav__item> <a href=#custom-submission-logic class=md-nav__link> <span class=md-ellipsis> Custom Submission Logic </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#related-documentation class=md-nav__link> <span class=md-ellipsis> Related Documentation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../error_handling/ class=md-nav__link> <span class=md-ellipsis> Error Handling </span> </a> </li> <li class=md-nav__item> <a href=../api_layer/ class=md-nav__link> <span class=md-ellipsis> REST API Layer </span> </a> </li> <li class=md-nav__item> <a href=../cli_layer/ class=md-nav__link> <span class=md-ellipsis> CLI Layer </span> </a> </li> <li class=md-nav__item> <a href=../library_layer/ class=md-nav__link> <span class=md-ellipsis> Library Layer </span> </a> </li> <li class=md-nav__item> <a href=../logging/ class=md-nav__link> <span class=md-ellipsis> Logging </span> </a> </li> <li class=md-nav__item> <a href=../decisions/ class=md-nav__link> <span class=md-ellipsis> Architecture Decisions </span> </a> </li> <li class=md-nav__item> <a href=../extending/ class=md-nav__link> <span class=md-ellipsis> Extending </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../api_reference/ class=md-nav__link> <span class=md-ellipsis> API Reference Overview </span> </a> </li> <li class=md-nav__item> <a href=../../api_reference/optics/ class=md-nav__link> <span class=md-ellipsis> Optics Class </span> </a> </li> <li class=md-nav__item> <a href=../../api_reference/action_keywords/ class=md-nav__link> <span class=md-ellipsis> Action Keywords </span> </a> </li> <li class=md-nav__item> <a href=../../api_reference/app_management/ class=md-nav__link> <span class=md-ellipsis> App Management </span> </a> </li> <li class=md-nav__item> <a href=../../api_reference/verification/ class=md-nav__link> <span class=md-ellipsis> Verification </span> </a> </li> <li class=md-nav__item> <a href=../../api_reference/flow_control/ class=md-nav__link> <span class=md-ellipsis> Flow Control </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Contribution </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Contribution </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contribution/contributing_guidelines/ class=md-nav__link> <span class=md-ellipsis> Contributing Guidelines </span> </a> </li> <li class=md-nav__item> <a href=../../contribution/developer_guide/ class=md-nav__link> <span class=md-ellipsis> Developer Guide </span> </a> </li> <li class=md-nav__item> <a href=../../contribution/help_wanted/ class=md-nav__link> <span class=md-ellipsis> Help Wanted </span> </a> </li> <li class=md-nav__item> <a href=../../contribution/code_of_conduct/ class=md-nav__link> <span class=md-ellipsis> Code of Conduct </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#eventsdk-architecture class=md-nav__link> <span class=md-ellipsis> EventSDK Architecture </span> </a> </li> <li class=md-nav__item> <a href=#eventsdk-component class=md-nav__link> <span class=md-ellipsis> EventSDK Component </span> </a> <nav class=md-nav aria-label="EventSDK Component"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initialization class=md-nav__link> <span class=md-ellipsis> Initialization </span> </a> </li> <li class=md-nav__item> <a href=#key-responsibilities class=md-nav__link> <span class=md-ellipsis> Key Responsibilities </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-attributes-configuration class=md-nav__link> <span class=md-ellipsis> Event Attributes Configuration </span> </a> <nav class=md-nav aria-label="Event Attributes Configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuration-structure class=md-nav__link> <span class=md-ellipsis> Configuration Structure </span> </a> </li> <li class=md-nav__item> <a href=#configuration-fields class=md-nav__link> <span class=md-ellipsis> Configuration Fields </span> </a> </li> <li class=md-nav__item> <a href=#loading-event-attributes class=md-nav__link> <span class=md-ellipsis> Loading Event Attributes </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-capture class=md-nav__link> <span class=md-ellipsis> Event Capture </span> </a> <nav class=md-nav aria-label="Event Capture"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#basic-event-capture class=md-nav__link> <span class=md-ellipsis> Basic Event Capture </span> </a> </li> <li class=md-nav__item> <a href=#event-structure class=md-nav__link> <span class=md-ellipsis> Event Structure </span> </a> </li> <li class=md-nav__item> <a href=#automatic-attributes class=md-nav__link> <span class=md-ellipsis> Automatic Attributes </span> </a> </li> <li class=md-nav__item> <a href=#event-format class=md-nav__link> <span class=md-ellipsis> Event Format </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-submission-modes class=md-nav__link> <span class=md-ellipsis> Event Submission Modes </span> </a> <nav class=md-nav aria-label="Event Submission Modes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-real-time-submission class=md-nav__link> <span class=md-ellipsis> 1. Real-Time Submission </span> </a> </li> <li class=md-nav__item> <a href=#2-batch-submission class=md-nav__link> <span class=md-ellipsis> 2. Batch Submission </span> </a> </li> <li class=md-nav__item> <a href=#batch-submission-flow class=md-nav__link> <span class=md-ellipsis> Batch Submission Flow </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#integration-with-drivers class=md-nav__link> <span class=md-ellipsis> Integration with Drivers </span> </a> <nav class=md-nav aria-label="Integration with Drivers"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#track-action-method class=md-nav__link> <span class=md-ellipsis> Track Action Method </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#test-context-integration class=md-nav__link> <span class=md-ellipsis> Test Context Integration </span> </a> </li> <li class=md-nav__item> <a href=#event-submission-api class=md-nav__link> <span class=md-ellipsis> Event Submission API </span> </a> <nav class=md-nav aria-label="Event Submission API"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#api-endpoint class=md-nav__link> <span class=md-ellipsis> API Endpoint </span> </a> </li> <li class=md-nav__item> <a href=#request-format class=md-nav__link> <span class=md-ellipsis> Request Format </span> </a> </li> <li class=md-nav__item> <a href=#authentication class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=#response-handling class=md-nav__link> <span class=md-ellipsis> Response Handling </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#time-management class=md-nav__link> <span class=md-ellipsis> Time Management </span> </a> </li> <li class=md-nav__item> <a href=#event-printing class=md-nav__link> <span class=md-ellipsis> Event Printing </span> </a> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> <nav class=md-nav aria-label="Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-event-naming class=md-nav__link> <span class=md-ellipsis> 1. Event Naming </span> </a> </li> <li class=md-nav__item> <a href=#2-event-attributes class=md-nav__link> <span class=md-ellipsis> 2. Event Attributes </span> </a> </li> <li class=md-nav__item> <a href=#3-submission-mode-selection class=md-nav__link> <span class=md-ellipsis> 3. Submission Mode Selection </span> </a> </li> <li class=md-nav__item> <a href=#4-error-handling class=md-nav__link> <span class=md-ellipsis> 4. Error Handling </span> </a> </li> <li class=md-nav__item> <a href=#5-configuration-management class=md-nav__link> <span class=md-ellipsis> 5. Configuration Management </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#events-not-being-sent class=md-nav__link> <span class=md-ellipsis> Events Not Being Sent </span> </a> </li> <li class=md-nav__item> <a href=#missing-test-case-name class=md-nav__link> <span class=md-ellipsis> Missing Test Case Name </span> </a> </li> <li class=md-nav__item> <a href=#timestamp-issues class=md-nav__link> <span class=md-ellipsis> Timestamp Issues </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#extension-points class=md-nav__link> <span class=md-ellipsis> Extension Points </span> </a> <nav class=md-nav aria-label="Extension Points"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#custom-event-handlers class=md-nav__link> <span class=md-ellipsis> Custom Event Handlers </span> </a> </li> <li class=md-nav__item> <a href=#custom-submission-logic class=md-nav__link> <span class=md-ellipsis> Custom Submission Logic </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#related-documentation class=md-nav__link> <span class=md-ellipsis> Related Documentation </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=event-system-and-eventsdk>Event System and EventSDK<a class=headerlink href=#event-system-and-eventsdk title="Permanent link">&para;</a></h1> <p>The Optics Framework includes a comprehensive event tracking system that captures execution events and sends them to external services for monitoring and analytics. This document explains how the event system works, including EventSDK integration, event attributes, and submission modes.</p> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>The event system consists of two main components:</p> <ol> <li><strong>EventManager</strong> - Internal event system for execution tracking (see <a href=../execution/ >Execution</a>)</li> <li><strong>EventSDK</strong> - External event tracking SDK for analytics and monitoring</li> </ol> <p>This document focuses on EventSDK, which is used for tracking user actions and sending events to external services.</p> <h2 id=eventsdk-architecture>EventSDK Architecture<a class=headerlink href=#eventsdk-architecture title="Permanent link">&para;</a></h2> <pre class=mermaid><code>graph TB
    A[Driver Action] --&gt; B[EventSDK]
    B --&gt; C{Event Mode}
    C --&gt;|Real-time| D[Send Immediately]
    C --&gt;|Batch| E[Buffer Events]
    E --&gt; F[Send After Execution]
    B --&gt; G[Event Attributes JSON]
    G --&gt; H[Form Event Data]
    H --&gt; I[External API]</code></pre> <h2 id=eventsdk-component>EventSDK Component<a class=headerlink href=#eventsdk-component title="Permanent link">&para;</a></h2> <p><strong>Location:</strong> <code>optics_framework/common/eventSDK.py</code></p> <p>The <code>EventSDK</code> class provides event tracking capabilities for monitoring test execution and user actions.</p> <h3 id=initialization>Initialization<a class=headerlink href=#initialization title="Permanent link">&para;</a></h3> <p>EventSDK is initialized with a <code>ConfigHandler</code> instance:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>from</span><span class=w> </span><span class=nn>optics_framework.common.config_handler</span><span class=w> </span><span class=kn>import</span> <span class=n>ConfigHandler</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>from</span><span class=w> </span><span class=nn>optics_framework.common.eventSDK</span><span class=w> </span><span class=kn>import</span> <span class=n>EventSDK</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=n>config_handler</span> <span class=o>=</span> <span class=n>ConfigHandler</span><span class=p>(</span><span class=n>config</span><span class=p>)</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=n>event_sdk</span> <span class=o>=</span> <span class=n>EventSDK</span><span class=p>(</span><span class=n>config_handler</span><span class=p>)</span>
</span></code></pre></div> <h3 id=key-responsibilities>Key Responsibilities<a class=headerlink href=#key-responsibilities title="Permanent link">&para;</a></h3> <ul> <li>Event capture and formatting</li> <li>Event attribute management</li> <li>Real-time and batch event submission</li> <li>Integration with test context</li> <li>Event buffering and retry logic</li> </ul> <h2 id=event-attributes-configuration>Event Attributes Configuration<a class=headerlink href=#event-attributes-configuration title="Permanent link">&para;</a></h2> <p>EventSDK uses a JSON configuration file to define event attributes and metadata.</p> <h3 id=configuration-structure>Configuration Structure<a class=headerlink href=#configuration-structure title="Permanent link">&para;</a></h3> <p>The event attributes JSON file should contain:</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=p>{</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>  </span><span class=nt>&quot;eventUrl&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;https://api.example.com&quot;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>  </span><span class=nt>&quot;testParameters_bearer&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;your-bearer-token&quot;</span><span class=p>,</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>  </span><span class=nt>&quot;applicationName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MyApp&quot;</span><span class=p>,</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>  </span><span class=nt>&quot;appVersion&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;1.0.0&quot;</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=p>}</span>
</span></code></pre></div> <h3 id=configuration-fields>Configuration Fields<a class=headerlink href=#configuration-fields title="Permanent link">&para;</a></h3> <ul> <li><strong>eventUrl</strong>: Base URL for the event submission API</li> <li><strong>testParameters_bearer</strong>: Bearer token for API authentication</li> <li><strong>applicationName</strong>: Name of the application under test</li> <li><strong>appVersion</strong>: Version of the application under test</li> </ul> <h3 id=loading-event-attributes>Loading Event Attributes<a class=headerlink href=#loading-event-attributes title="Permanent link">&para;</a></h3> <p>EventSDK loads the event attributes JSON file during initialization:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config_handler</span><span class=p>:</span> <span class=n>ConfigHandler</span><span class=p>):</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>    <span class=bp>self</span><span class=o>.</span><span class=n>config_handler</span> <span class=o>=</span> <span class=n>config_handler</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=bp>self</span><span class=o>.</span><span class=n>event_attributes_json_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>config_handler</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>event_attributes_json</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=bp>self</span><span class=o>.</span><span class=n>event_attributes_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_load_event_attributes_json</span><span class=p>()</span>
</span></code></pre></div> <p>The file path is specified in the main configuration:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=nt>event_attributes_json</span><span class=p>:</span><span class=w> </span><span class=s>&quot;/path/to/event_attributes.json&quot;</span>
</span></code></pre></div> <h2 id=event-capture>Event Capture<a class=headerlink href=#event-capture title="Permanent link">&para;</a></h2> <h3 id=basic-event-capture>Basic Event Capture<a class=headerlink href=#basic-event-capture title="Permanent link">&para;</a></h3> <p>Events are captured using the <code>capture_event()</code> method:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>event_sdk</span><span class=o>.</span><span class=n>capture_event</span><span class=p>(</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>    <span class=n>event_name</span><span class=o>=</span><span class=s2>&quot;button_clicked&quot;</span><span class=p>,</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>button_id</span><span class=o>=</span><span class=s2>&quot;submit&quot;</span><span class=p>,</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>screen</span><span class=o>=</span><span class=s2>&quot;login&quot;</span><span class=p>,</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=n>timestamp</span><span class=o>=</span><span class=s2>&quot;2024-01-01T12:00:00&quot;</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=p>)</span>
</span></code></pre></div> <h3 id=event-structure>Event Structure<a class=headerlink href=#event-structure title="Permanent link">&para;</a></h3> <p>Each captured event contains:</p> <ol> <li><strong>Event Name</strong>: Identifier for the event type</li> <li><strong>Event Attributes</strong>: Key-value pairs with event data</li> <li><strong>Mozark Event Attributes</strong>: Additional metadata from configuration</li> <li><strong>DateTime</strong>: Automatically added timestamp</li> </ol> <h3 id=automatic-attributes>Automatic Attributes<a class=headerlink href=#automatic-attributes title="Permanent link">&para;</a></h3> <p>EventSDK automatically adds the following attributes:</p> <ul> <li><code>dateTime</code>: Current timestamp in ISO format</li> <li><code>testCaseName</code>: Current test case name (from test context)</li> <li><code>applicationName</code>: From event attributes JSON</li> <li><code>applicationVersion</code>: From event attributes JSON</li> </ul> <h3 id=event-format>Event Format<a class=headerlink href=#event-format title="Permanent link">&para;</a></h3> <p>The final event structure looks like:</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=p>{</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>  </span><span class=nt>&quot;eventName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;button_clicked&quot;</span><span class=p>,</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>  </span><span class=nt>&quot;eventAttributes&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=nt>&quot;dateTime&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;2024-01-01T12:00:00+05:30&quot;</span><span class=p>,</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>    </span><span class=nt>&quot;testCaseName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;test_login&quot;</span><span class=p>,</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>    </span><span class=nt>&quot;applicationName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MyApp&quot;</span><span class=p>,</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>    </span><span class=nt>&quot;applicationVersion&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;1.0.0&quot;</span><span class=p>,</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>    </span><span class=nt>&quot;button_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;submit&quot;</span><span class=p>,</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>    </span><span class=nt>&quot;screen&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;login&quot;</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=w>  </span><span class=nt>&quot;mozarkEventAttributes&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=w>    </span><span class=nt>&quot;applicationName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MyApp&quot;</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=p>}</span>
</span></code></pre></div> <h2 id=event-submission-modes>Event Submission Modes<a class=headerlink href=#event-submission-modes title="Permanent link">&para;</a></h2> <p>EventSDK supports two submission modes:</p> <h3 id=1-real-time-submission>1. Real-Time Submission<a class=headerlink href=#1-real-time-submission title="Permanent link">&para;</a></h3> <p>Events are sent immediately as they occur:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>event_sdk</span><span class=o>.</span><span class=n>submit_single_event</span><span class=p>(</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>    <span class=n>event_name</span><span class=o>=</span><span class=s2>&quot;action_completed&quot;</span><span class=p>,</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>    <span class=n>event_attributes</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;press_element&quot;</span><span class=p>},</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>    <span class=n>real_time</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>    <span class=n>time_interval</span><span class=o>=</span><span class=mf>1.0</span>  <span class=c1># Send every 1 second</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=p>)</span>
</span></code></pre></div> <p><strong>Characteristics:</strong> - Events are sent immediately - Uses threading.Timer for scheduled submission - Suitable for live monitoring - Higher network overhead</p> <h3 id=2-batch-submission>2. Batch Submission<a class=headerlink href=#2-batch-submission title="Permanent link">&para;</a></h3> <p>Events are buffered and sent after execution:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=n>event_sdk</span><span class=o>.</span><span class=n>submit_single_event</span><span class=p>(</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>    <span class=n>event_name</span><span class=o>=</span><span class=s2>&quot;action_completed&quot;</span><span class=p>,</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=n>event_attributes</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;action&quot;</span><span class=p>:</span> <span class=s2>&quot;press_element&quot;</span><span class=p>},</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>    <span class=n>real_time</span><span class=o>=</span><span class=kc>False</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=p>)</span>
</span></code></pre></div> <p><strong>Characteristics:</strong> - Events are buffered in memory - Sent in batches of 5 events - Lower network overhead - Suitable for post-execution analytics</p> <h3 id=batch-submission-flow>Batch Submission Flow<a class=headerlink href=#batch-submission-flow title="Permanent link">&para;</a></h3> <pre class=mermaid><code>sequenceDiagram
    participant Driver
    participant EventSDK
    participant Buffer
    participant API

    Driver-&gt;&gt;EventSDK: capture_event()
    EventSDK-&gt;&gt;Buffer: append event
    Note over Buffer: Buffer events
    Driver-&gt;&gt;EventSDK: send_all_events()
    EventSDK-&gt;&gt;Buffer: get batch (5 events)
    Buffer-&gt;&gt;API: POST /v1/event/batchevent
    API--&gt;&gt;EventSDK: success
    EventSDK-&gt;&gt;Buffer: clear sent events</code></pre> <h2 id=integration-with-drivers>Integration with Drivers<a class=headerlink href=#integration-with-drivers title="Permanent link">&para;</a></h2> <p>EventSDK is integrated into drivers through the driver interface:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>class</span><span class=w> </span><span class=nc>AppiumDriver</span><span class=p>(</span><span class=n>DriverInterface</span><span class=p>):</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>config</span><span class=p>,</span> <span class=n>event_sdk</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=n>EventSDK</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>        <span class=bp>self</span><span class=o>.</span><span class=n>event_sdk</span> <span class=o>=</span> <span class=n>event_sdk</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>    <span class=k>def</span><span class=w> </span><span class=nf>press_element</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>element</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>event_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>event_sdk</span><span class=p>:</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>            <span class=bp>self</span><span class=o>.</span><span class=n>event_sdk</span><span class=o>.</span><span class=n>track_action</span><span class=p>(</span><span class=s2>&quot;press_element&quot;</span><span class=p>,</span> <span class=n>event_name</span><span class=p>)</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>        <span class=c1># ... press logic</span>
</span></code></pre></div> <h3 id=track-action-method>Track Action Method<a class=headerlink href=#track-action-method title="Permanent link">&para;</a></h3> <p>The <code>track_action()</code> method is a convenience wrapper:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>def</span><span class=w> </span><span class=nf>track_action</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>action_type</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>event_name</span><span class=p>:</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>    <span class=n>event_name</span> <span class=o>=</span> <span class=n>event_name</span> <span class=ow>or</span> <span class=n>action_type</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    <span class=bp>self</span><span class=o>.</span><span class=n>capture_event</span><span class=p>(</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>        <span class=n>event_name</span><span class=o>=</span><span class=n>event_name</span><span class=p>,</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>        <span class=n>action_type</span><span class=o>=</span><span class=n>action_type</span><span class=p>,</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>        <span class=n>timestamp</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>get_current_time_for_events</span><span class=p>()</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>    <span class=p>)</span>
</span></code></pre></div> <h2 id=test-context-integration>Test Context Integration<a class=headerlink href=#test-context-integration title="Permanent link">&para;</a></h2> <p>EventSDK automatically retrieves the current test case name from test context:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_test_case_name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>    <span class=k>return</span> <span class=n>test_context</span><span class=o>.</span><span class=n>current_test_case</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
</span></code></pre></div> <p>This allows events to be associated with the test case that triggered them.</p> <h2 id=event-submission-api>Event Submission API<a class=headerlink href=#event-submission-api title="Permanent link">&para;</a></h2> <h3 id=api-endpoint>API Endpoint<a class=headerlink href=#api-endpoint title="Permanent link">&para;</a></h3> <p>Events are submitted to:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>POST {eventUrl}/v1/event/batchevent
</span></code></pre></div> <h3 id=request-format>Request Format<a class=headerlink href=#request-format title="Permanent link">&para;</a></h3> <div class="language-json highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=p>[</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=w>  </span><span class=p>{</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=w>    </span><span class=nt>&quot;eventName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;button_clicked&quot;</span><span class=p>,</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=w>    </span><span class=nt>&quot;eventAttributes&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>},</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=w>    </span><span class=nt>&quot;mozarkEventAttributes&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>}</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=w>  </span><span class=err>...</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=p>]</span>
</span></code></pre></div> <h3 id=authentication>Authentication<a class=headerlink href=#authentication title="Permanent link">&para;</a></h3> <p>Requests include a Bearer token in the Authorization header:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>Authorization: Bearer {testParameters_bearer}
</span></code></pre></div> <h3 id=response-handling>Response Handling<a class=headerlink href=#response-handling title="Permanent link">&para;</a></h3> <p>EventSDK includes retry logic for failed submissions:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=k>def</span><span class=w> </span><span class=nf>send_all_events</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>    <span class=n>max_retries</span> <span class=o>=</span> <span class=mi>3</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>    <span class=n>retry_delay</span> <span class=o>=</span> <span class=mi>2</span>  <span class=c1># seconds</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>    <span class=k>for</span> <span class=n>attempt</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>max_retries</span><span class=p>):</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>        <span class=n>success</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>send_batch_events</span><span class=p>(</span><span class=n>events_to_send</span><span class=p>)</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>        <span class=k>if</span> <span class=n>success</span><span class=p>:</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>            <span class=bp>self</span><span class=o>.</span><span class=n>all_events</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a>            <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>retry_delay</span> <span class=o>*</span> <span class=n>attempt</span><span class=p>)</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a>
</span><span id=__span-14-12><a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a>    <span class=c1># All retries failed</span>
</span><span id=__span-14-13><a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a>    <span class=bp>self</span><span class=o>.</span><span class=n>all_events</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span><span id=__span-14-14><a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a>    <span class=k>return</span> <span class=kc>False</span>
</span></code></pre></div> <h2 id=time-management>Time Management<a class=headerlink href=#time-management title="Permanent link">&para;</a></h2> <p>EventSDK uses a specific timezone (IST - UTC+5:30) for timestamps:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=k>def</span><span class=w> </span><span class=nf>get_current_time_for_events</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>    <span class=n>current_utc_time</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(</span><span class=n>timezone</span><span class=o>.</span><span class=n>utc</span><span class=p>)</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>    <span class=n>desired_timezone</span> <span class=o>=</span> <span class=n>timezone</span><span class=p>(</span><span class=n>timedelta</span><span class=p>(</span><span class=n>hours</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span> <span class=n>minutes</span><span class=o>=</span><span class=mi>30</span><span class=p>))</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>    <span class=n>current_time_in_desired_timezone</span> <span class=o>=</span> <span class=n>current_utc_time</span><span class=o>.</span><span class=n>astimezone</span><span class=p>(</span><span class=n>desired_timezone</span><span class=p>)</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>    <span class=n>formatted_time</span> <span class=o>=</span> <span class=n>current_time_in_desired_timezone</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&quot;%Y-%m-</span><span class=si>%d</span><span class=s2>T%H:%M:%S.</span><span class=si>%f</span><span class=s2>%z&quot;</span><span class=p>)</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>    <span class=k>return</span> <span class=n>formatted_time</span><span class=p>[:</span><span class=o>-</span><span class=mi>2</span><span class=p>]</span> <span class=o>+</span> <span class=s2>&quot;:&quot;</span> <span class=o>+</span> <span class=n>formatted_time</span><span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>:]</span>
</span></code></pre></div> <p>This ensures consistent timestamp formatting across all events.</p> <h2 id=event-printing>Event Printing<a class=headerlink href=#event-printing title="Permanent link">&para;</a></h2> <p>Events can be printed to the console using the TreeResultPrinter:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=k>def</span><span class=w> </span><span class=nf>print_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event_data</span><span class=p>):</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>    <span class=n>printer</span> <span class=o>=</span> <span class=n>TreeResultPrinter</span><span class=o>.</span><span class=n>get_instance</span><span class=p>()</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>    <span class=n>printer</span><span class=o>.</span><span class=n>print_event_log</span><span class=p>(</span><span class=n>event_data</span><span class=p>)</span>
</span></code></pre></div> <p>This is useful for debugging and local development.</p> <h2 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Permanent link">&para;</a></h2> <h3 id=1-event-naming>1. Event Naming<a class=headerlink href=#1-event-naming title="Permanent link">&para;</a></h3> <p>Use consistent, descriptive event names:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1># Good</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=n>event_sdk</span><span class=o>.</span><span class=n>capture_event</span><span class=p>(</span><span class=n>event_name</span><span class=o>=</span><span class=s2>&quot;login_button_clicked&quot;</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=n>event_sdk</span><span class=o>.</span><span class=n>capture_event</span><span class=p>(</span><span class=n>event_name</span><span class=o>=</span><span class=s2>&quot;form_submission_completed&quot;</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=c1># Bad</span>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=n>event_sdk</span><span class=o>.</span><span class=n>capture_event</span><span class=p>(</span><span class=n>event_name</span><span class=o>=</span><span class=s2>&quot;click&quot;</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=n>event_sdk</span><span class=o>.</span><span class=n>capture_event</span><span class=p>(</span><span class=n>event_name</span><span class=o>=</span><span class=s2>&quot;done&quot;</span><span class=p>,</span> <span class=o>...</span><span class=p>)</span>
</span></code></pre></div> <h3 id=2-event-attributes>2. Event Attributes<a class=headerlink href=#2-event-attributes title="Permanent link">&para;</a></h3> <p>Include relevant context in event attributes:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>event_sdk</span><span class=o>.</span><span class=n>capture_event</span><span class=p>(</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>    <span class=n>event_name</span><span class=o>=</span><span class=s2>&quot;element_pressed&quot;</span><span class=p>,</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>    <span class=n>element_id</span><span class=o>=</span><span class=s2>&quot;submit_button&quot;</span><span class=p>,</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>    <span class=n>element_type</span><span class=o>=</span><span class=s2>&quot;button&quot;</span><span class=p>,</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>    <span class=n>screen</span><span class=o>=</span><span class=s2>&quot;login&quot;</span><span class=p>,</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>    <span class=n>test_case</span><span class=o>=</span><span class=s2>&quot;test_user_login&quot;</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=p>)</span>
</span></code></pre></div> <h3 id=3-submission-mode-selection>3. Submission Mode Selection<a class=headerlink href=#3-submission-mode-selection title="Permanent link">&para;</a></h3> <ul> <li>Use <strong>real-time</strong> for live monitoring and debugging</li> <li>Use <strong>batch</strong> for production runs to reduce network overhead</li> </ul> <h3 id=4-error-handling>4. Error Handling<a class=headerlink href=#4-error-handling title="Permanent link">&para;</a></h3> <p>EventSDK handles errors gracefully:</p> <ul> <li>Failed event submissions are logged but don't stop execution</li> <li>Retry logic ensures events are eventually sent</li> <li>Events are cleared after successful submission or max retries</li> </ul> <h3 id=5-configuration-management>5. Configuration Management<a class=headerlink href=#5-configuration-management title="Permanent link">&para;</a></h3> <ul> <li>Store event attributes JSON securely</li> <li>Use environment variables for sensitive data (bearer tokens)</li> <li>Validate configuration during initialization</li> </ul> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">&para;</a></h2> <h3 id=events-not-being-sent>Events Not Being Sent<a class=headerlink href=#events-not-being-sent title="Permanent link">&para;</a></h3> <p><strong>Problem</strong>: Events are captured but not submitted.</p> <p><strong>Solutions</strong>:</p> <ol> <li>Check <code>eventUrl</code> is set in event attributes JSON</li> <li>Verify <code>testParameters_bearer</code> is valid</li> <li>Check network connectivity to event API</li> <li>Review execution logs for error messages</li> </ol> <h3 id=missing-test-case-name>Missing Test Case Name<a class=headerlink href=#missing-test-case-name title="Permanent link">&para;</a></h3> <p><strong>Problem</strong>: <code>testCaseName</code> is None in events.</p> <p><strong>Solutions</strong>:</p> <ol> <li>Ensure test context is set before capturing events</li> <li>Verify test case execution is using proper session management</li> <li>Check that <code>test_context.current_test_case</code> is set</li> </ol> <h3 id=timestamp-issues>Timestamp Issues<a class=headerlink href=#timestamp-issues title="Permanent link">&para;</a></h3> <p><strong>Problem</strong>: Timestamps are incorrect or missing.</p> <p><strong>Solutions</strong>:</p> <ol> <li>Verify system time is correct</li> <li>Check timezone configuration</li> <li>Ensure <code>get_current_time_for_events()</code> is called correctly</li> </ol> <h2 id=extension-points>Extension Points<a class=headerlink href=#extension-points title="Permanent link">&para;</a></h2> <h3 id=custom-event-handlers>Custom Event Handlers<a class=headerlink href=#custom-event-handlers title="Permanent link">&para;</a></h3> <p>You can extend EventSDK to add custom event processing:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=k>class</span><span class=w> </span><span class=nc>CustomEventSDK</span><span class=p>(</span><span class=n>EventSDK</span><span class=p>):</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>    <span class=k>def</span><span class=w> </span><span class=nf>capture_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event_name</span><span class=p>,</span> <span class=o>**</span><span class=n>args</span><span class=p>):</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>        <span class=c1># Custom processing</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>        <span class=n>processed_args</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_process_attributes</span><span class=p>(</span><span class=n>args</span><span class=p>)</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>capture_event</span><span class=p>(</span><span class=n>event_name</span><span class=p>,</span> <span class=o>**</span><span class=n>processed_args</span><span class=p>)</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a>    <span class=k>def</span><span class=w> </span><span class=nf>_process_attributes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>args</span><span class=p>):</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>        <span class=c1># Add custom attributes</span>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a>        <span class=n>args</span><span class=p>[</span><span class=s1>&#39;custom_field&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;custom_value&#39;</span>
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>        <span class=k>return</span> <span class=n>args</span>
</span></code></pre></div> <h3 id=custom-submission-logic>Custom Submission Logic<a class=headerlink href=#custom-submission-logic title="Permanent link">&para;</a></h3> <p>Override submission methods for custom behavior:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=k>class</span><span class=w> </span><span class=nc>CustomEventSDK</span><span class=p>(</span><span class=n>EventSDK</span><span class=p>):</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>    <span class=k>def</span><span class=w> </span><span class=nf>send_batch_events</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event_data</span><span class=p>):</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>        <span class=c1># Custom submission logic</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>        <span class=c1># e.g., send to multiple endpoints</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>        <span class=n>result1</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_send_to_endpoint1</span><span class=p>(</span><span class=n>event_data</span><span class=p>)</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a>        <span class=n>result2</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_send_to_endpoint2</span><span class=p>(</span><span class=n>event_data</span><span class=p>)</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>        <span class=k>return</span> <span class=n>result1</span> <span class=ow>and</span> <span class=n>result2</span>
</span></code></pre></div> <h2 id=related-documentation>Related Documentation<a class=headerlink href=#related-documentation title="Permanent link">&para;</a></h2> <ul> <li><a href=../execution/ >Execution Architecture</a> - Internal event system (EventManager)</li> <li><a href=../components/ >Components</a> - Driver integration</li> <li><a href=../execution/#test-context>Test Context</a> - Context variable system</li> <li><a href=../logging/ >Logging</a> - Logging system</li> <li><a href=../../configuration/ >Configuration</a> - Configuration setup</li> <li><a href=../decisions/ >Architecture Decisions</a> - Event system design decisions</li> <li><a href=../extending/ >Extending</a> - Creating custom extensions</li> </ul> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/mozarkai/optics-framework target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "navigation.tracking", "search.suggest", "search.highlight", "search.share", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> </body> </html>